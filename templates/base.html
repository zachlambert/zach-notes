<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Zach Lambert</title>
  <link rel="stylesheet" href="{{ get_url(path="base.css") }}">

  <!-- Custom scripts -->
  <script defer src="{{ get_url(path="/collapsable.js") }}">
  </script>

  <!-- https://katex.org/docs/browser -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.css"
    integrity="sha384-Pu5+C18nP5dwykLJOhd2U4Xen7rjScHN/qusop27hdd2drI+lL5KvX7YntvT8yew"
    crossorigin="anonymous">
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/katex.min.js"
    integrity="sha384-2B8pfmZZ6JlVoScJm/5hQfNS2TI/6hPqDZInzzPc8oHpN5SgeNOf4LzREO6p5YtZ"
    crossorigin="anonymous">
  </script>
  <script
    defer
    src="https://cdn.jsdelivr.net/npm/katex@0.16.27/dist/contrib/auto-render.min.js"
    integrity="sha384-hCXGrW6PitJEwbkoStFjeJxv+fSOOQKOPbJxSfM6G5sWZjAyWhXiTIIAmQqnlLlh"
    crossorigin="anonymous">
  </script>
  <script>
    document.addEventListener("DOMContentLoaded", function() {
        renderMathInElement(document.body, {
          delimiters: [
              {left: '$$', right: '$$', display: true},
              {left: '$', right: '$', display: false},
          ],
          throwOnError : false
        });
    });
  </script>
</head>

<body>
  <nav>
    <div>
      <h1><a href="{{ get_url(path="/") }}">Zach Lambert</a></h1>

      {% set permalink="" %}
      {% block set_permalink %}
      {% endblock set_permalink %}

      {% set root = get_section(path="_index.md", metadata_only=true) %}
      {% for section in root.subsections %}
        {% set section = get_section(path=section) %}
        {% set open = permalink is starting_with(section.permalink) %}
        <h2 class="nav-section {% if open %}open{% endif %}">
          <a href="{{ section.permalink }}">{{section.title}}</a>
        </h2>
        <section>
          {% for subsection in section.subsections %}
          {% set subsection = get_section(path=subsection) %}
          {% set open = permalink is starting_with(subsection.permalink) %}
          <a
            class="{% if open %}open{% endif %}"
            href="{{ subsection.permalink }}">{{subsection.title}}</a><br>
          {% if open %}
          <section>
            {% for page in subsection.pages %}
            {% set open = permalink is starting_with(page.permalink) %}
            <a
              class="{% if open %}open{% endif %}"
              href="{{ page.permalink }}">{{page.title}}</a><br>
            {% endfor %}
          </section>
          {% endif %}
          {% endfor %}
        </section>
      {% endfor %}
    </div>
  </nav>
  <main>
    {% block content %}
    {% endblock content %}
  </main>
</body>
</html>
